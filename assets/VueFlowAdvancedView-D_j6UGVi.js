import{d as U,o as l,c as u,h as c,a as t,u as v,i as _,j as b,k as et,l as ot,p as O,q as X,f as z,F as A,e as V,s as M,m as nt,g as S,b as G,x as W,w as J,v as st,r as Z,y as q,n as lt,t as $,_ as at}from"./index-Lxfi8HJO.js";import{u as R,P as it,a as rt,_ as dt,C as ct,M as ut}from"./CustomNode-4FHrlpMF.js";var y=(e=>(e.Lines="lines",e.Dots="dots",e))(y||{});const Y=function({dimensions:e,size:a,color:f}){return X("path",{stroke:f,"stroke-width":a,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},K=function({radius:e,color:a}){return X("circle",{cx:e,cy:e,r:e,fill:a})};y.Lines+"",y.Dots+"";const vt={[y.Dots]:"#81818a",[y.Lines]:"#eee"},ft=["id","x","y","width","height","patternTransform"],ht={key:2,height:"100",width:"100"},wt=["fill"],pt=["x","y","fill"],gt={name:"Background",compatConfig:{MODE:3}},mt=U({...gt,props:{id:{},variant:{default:()=>y.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:a,viewport:f}=R(),d=ot(()=>{const s=f.value.zoom,[p,g]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],k=[p*s||1,g*s||1],N=e.size*s,[I,m]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],h=[I*s||1+k[0]/2,m*s||1+k[1]/2];return{scaledGap:k,offset:h,size:N}}),w=O(()=>`pattern-${a}${e.id?`-${e.id}`:""}`),C=O(()=>e.color||e.patternColor||vt[e.variant||y.Dots]);return(s,p)=>(l(),u("svg",{class:"vue-flow__background vue-flow__container",style:et({height:`${s.height>100?100:s.height}%`,width:`${s.width>100?100:s.width}%`})},[c(s.$slots,"pattern-container",{id:w.value},()=>[t("pattern",{id:w.value,x:v(f).x%d.value.scaledGap[0],y:v(f).y%d.value.scaledGap[1],width:d.value.scaledGap[0],height:d.value.scaledGap[1],patternTransform:`translate(-${d.value.offset[0]},-${d.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[c(s.$slots,"pattern",{},()=>[s.variant===v(y).Lines?(l(),_(v(Y),{key:0,size:s.lineWidth,color:C.value,dimensions:d.value.scaledGap},null,8,["size","color","dimensions"])):s.variant===v(y).Dots?(l(),_(v(K),{key:1,color:C.value,radius:d.value.size/2},null,8,["color","radius"])):b("",!0),s.bgColor?(l(),u("svg",ht,[t("rect",{width:"100%",height:"100%",fill:s.bgColor},null,8,wt)])):b("",!0)])],8,ft)]),t("rect",{x:s.x,y:s.y,width:"100%",height:"100%",fill:`url(#${w.value})`},null,8,pt),c(s.$slots,"default",{id:w.value})],4))}}),$t={name:"ControlButton",compatConfig:{MODE:3}},_t=(e,a)=>{const f=e.__vccOpts||e;for(const[d,w]of a)f[d]=w;return f},yt={type:"button",class:"vue-flow__controls-button"};function kt(e,a,f,d,w,C){return l(),u("button",yt,[c(e.$slots,"default")])}const H=_t($t,[["render",kt]]),bt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Ct=t("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),zt=[Ct];function Vt(e,a){return l(),u("svg",bt,zt)}const Nt={render:Vt},It={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Dt=t("path",{d:"M0 0h32v4.2H0z"},null,-1),Mt=[Dt];function St(e,a){return l(),u("svg",It,Mt)}const Ot={render:St},Tt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Et=t("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),Ht=[Et];function At(e,a){return l(),u("svg",Tt,Ht)}const Bt={render:At},Pt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ft=t("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),Lt=[Ft];function xt(e,a){return l(),u("svg",Pt,Lt)}const Gt={render:xt},Jt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Zt=t("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),Ut=[Zt];function Rt(e,a){return l(),u("svg",Jt,Ut)}const jt={render:Rt},Wt={name:"Controls",compatConfig:{MODE:3}},qt=U({...Wt,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>it.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:a}){const{nodesDraggable:f,nodesConnectable:d,elementsSelectable:w,setInteractive:C,zoomIn:s,zoomOut:p,fitView:g,viewport:k,minZoom:N,maxZoom:I}=R(),m=O(()=>f.value||d.value||w.value),h=O(()=>k.value.zoom<=N.value),B=O(()=>k.value.zoom>=I.value);function P(){s(),a("zoomIn")}function F(){p(),a("zoomOut")}function L(){g(e.fitViewParams),a("fitView")}function x(){C(!m.value),a("interactionChange",!m.value)}return(i,T)=>(l(),_(v(rt),{class:"vue-flow__controls",position:i.position},{default:z(()=>[c(i.$slots,"top"),i.showZoom?(l(),u(A,{key:0},[c(i.$slots,"control-zoom-in",{},()=>[V(H,{class:"vue-flow__controls-zoomin",disabled:B.value,onClick:P},{default:z(()=>[c(i.$slots,"icon-zoom-in",{},()=>[(l(),_(M(v(Nt))))])]),_:3},8,["disabled"])]),c(i.$slots,"control-zoom-out",{},()=>[V(H,{class:"vue-flow__controls-zoomout",disabled:h.value,onClick:F},{default:z(()=>[c(i.$slots,"icon-zoom-out",{},()=>[(l(),_(M(v(Ot))))])]),_:3},8,["disabled"])])],64)):b("",!0),i.showFitView?c(i.$slots,"control-fit-view",{key:1},()=>[V(H,{class:"vue-flow__controls-fitview",onClick:L},{default:z(()=>[c(i.$slots,"icon-fit-view",{},()=>[(l(),_(M(v(Bt))))])]),_:3})]):b("",!0),i.showInteractive?c(i.$slots,"control-interactive",{key:2},()=>[i.showInteractive?(l(),_(H,{key:0,class:"vue-flow__controls-interactive",onClick:x},{default:z(()=>[m.value?c(i.$slots,"icon-unlock",{key:0},()=>[(l(),_(M(v(jt))))]):b("",!0),m.value?b("",!0):c(i.$slots,"icon-lock",{key:1},()=>[(l(),_(M(v(Gt))))])]),_:3})):b("",!0)]):b("",!0),c(i.$slots,"default")]),_:3},8,["position"]))}}),Xt={class:"flow-demo"},Yt={class:"toolbar"},Kt={class:"view-toggle"},Qt=["value"],te={class:"flow-container"},ee={class:"flow-wrapper"},oe={class:"default-node-content"},ne={class:"list-view"},se={class:"list-section"},le={class:"table-wrapper"},ae={class:"data-table"},ie={class:"list-section"},re={class:"table-wrapper"},de={class:"data-table"},ce=U({__name:"VueFlowAdvancedView",setup(e){const a=[{id:"0",label:"New Node 0",type:"custom",position:{x:165,y:225},data:{title:"Task: Deployment"}},{id:"1",label:"New Node 1",type:"custom",position:{x:510,y:315},data:{title:"Task: Enrichment"}}],f=[{id:"vueflow__edge-0-1",type:"default",source:"0",target:"1"}];let d=a.length;const w={custom:nt(ct)},C={style:{strokeWidth:3,stroke:"#7c3aed"},pathOptions:{offset:50,curvature:.8,type:"smoothstep"},markerEnd:{type:ut.ArrowClosed,width:15,height:15,color:"#7c3aed"}},s=S(JSON.parse(JSON.stringify(a))),p=S(JSON.parse(JSON.stringify(f))),g=S("graph"),{onConnect:k,addEdges:N,fitView:I}=R(),m=S([]);function h(r){const o=new Date().toLocaleTimeString();m.value.unshift(`[${o}] ${r}`),m.value.length>20&&m.value.pop()}function B(r,o){const n=new Set,D=[r];for(;D.length>0;){const E=D.shift();if(E===o)return!0;if(!n.has(E)){n.add(E);for(const j of p.value)j.source===E&&D.push(j.target)}}return!1}function P(r){return p.value.some(o=>o.target===r)}k(r=>{const{source:o,target:n}=r;if(o===n){h("Connection rejected: cannot connect a node to itself");return}if(P(n)){h(`Connection rejected: "${n}" already has a parent`);return}if(B(n,o)){h(`Connection rejected: would create a cycle (${o} → ${n})`);return}N(r),h(`Edge connected: ${o} → ${n}`)});function F({node:r}){h(`Node clicked: "${r.label||r.id}"`)}function L({edge:r}){h(`Edge clicked: ${r.id}`)}function x(){h("Pane clicked (background)")}const i=["Enrichment","Cleaning","Transformation","Modeling","Validation","Deployment"],T=S(i[0]);function Q(){const r=String(d++),o={id:r,label:`New Node ${r}`,type:"custom",position:{x:Math.random()*400+50,y:Math.random()*300+50},data:{title:`Task: ${T.value}`}};s.value=[...s.value,o],h(`Added new node: "${o.label}"`),g.value==="graph"&&lt(()=>{I({padding:.2,duration:300})})}function tt(){s.value=JSON.parse(JSON.stringify(a)),p.value=JSON.parse(JSON.stringify(f)),d=a.length,h("Flow reset to initial state")}return(r,o)=>(l(),u("div",Xt,[o[10]||(o[10]=t("div",{class:"demo-header"},[t("h1",null,"Vue Flow Advanced"),t("p",{class:"subtitle"},[G(" Graph view with Background & Controls, plus flat list view. Powered by "),t("code",null,"@vue-flow/core"),G(", "),t("code",null,"@vue-flow/background"),G(", "),t("code",null,"@vue-flow/controls")])],-1)),t("div",Yt,[t("div",Kt,[t("button",{class:W(["btn",{"btn-active":g.value==="graph"}]),onClick:o[0]||(o[0]=n=>g.value="graph")}," Graph View ",2),t("button",{class:W(["btn",{"btn-active":g.value==="list"}]),onClick:o[1]||(o[1]=n=>g.value="list")}," List View ",2)]),o[5]||(o[5]=t("div",{class:"toolbar-divider"},null,-1)),t("button",{class:"btn btn-danger",onClick:tt},"Reset Flow"),J(t("select",{"onUpdate:modelValue":o[2]||(o[2]=n=>T.value=n),class:"form-select"},[(l(),u(A,null,Z(i,n=>t("option",{key:n,value:n},$(n),9,Qt)),64))],512),[[st,T.value]]),t("button",{class:"btn btn-accent",onClick:Q},"+ Add Task")]),t("div",te,[J(t("div",ee,[V(v(dt),{nodes:s.value,"onUpdate:nodes":o[3]||(o[3]=n=>s.value=n),edges:p.value,"onUpdate:edges":o[4]||(o[4]=n=>p.value=n),"node-types":w,"default-viewport":{zoom:1,x:0,y:0},"min-zoom":.2,"max-zoom":4,"snap-to-grid":!0,"snap-grid":[15,15],"fit-view-on-init":"",class:"vue-flow-instance",onNodeClick:F,onEdgeClick:L,onPaneClick:x,defaultEdgeOptions:C},{"node-default":z(({data:n,label:D})=>[t("div",oe,$(D||n?.label),1)]),default:z(()=>[V(v(mt),{variant:"dots",gap:12}),V(v(qt),{"show-fit-view":!0,"show-zoom":!0,"show-interactive":!0})]),_:1},8,["nodes","edges"])],512),[[q,g.value==="graph"]]),J(t("div",ne,[t("section",se,[o[7]||(o[7]=t("h2",{class:"list-section-title"},"Nodes",-1)),t("div",le,[t("table",ae,[o[6]||(o[6]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Label"),t("th",null,"Position (x, y)"),t("th",null,"Title")])],-1)),t("tbody",null,[(l(!0),u(A,null,Z(s.value,n=>(l(),u("tr",{key:n.id},[t("td",null,[t("code",null,$(n.id),1)]),t("td",null,$(n.label||n.id),1),t("td",null,$(Math.round(n.position.x))+", "+$(Math.round(n.position.y)),1),t("td",null,$(n.data?.title??"—"),1)]))),128))])])])]),t("section",ie,[o[9]||(o[9]=t("h2",{class:"list-section-title"},"Edges",-1)),t("div",re,[t("table",de,[o[8]||(o[8]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Source"),t("th",null,"Target")])],-1)),t("tbody",null,[(l(!0),u(A,null,Z(p.value,n=>(l(),u("tr",{key:n.id},[t("td",null,[t("code",null,$(n.id),1)]),t("td",null,$(n.source),1),t("td",null,$(n.target),1)]))),128))])])])])],512),[[q,g.value==="list"]])])]))}}),fe=at(ce,[["__scopeId","data-v-f37f7563"]]);export{fe as default};

import{d as U,o as a,c as v,h as d,a as e,u as f,i as _,j as b,k as le,l as ae,p as M,q as K,f as z,F as E,e as N,s as O,m as ie,g as S,b as G,x as X,w as J,v as re,r as Z,y as Y,t as V,_ as ue}from"./index-DRLvRy0Y.js";import{u as R,P as ce,a as de,_ as ve,C as fe,M as he}from"./CustomNode-D0fv1n2P.js";import"./monaco-editor-CFAWLn37.js";var y=(n=>(n.Lines="lines",n.Dots="dots",n))(y||{});const Q=function({dimensions:n,size:i,color:h}){return K("path",{stroke:h,"stroke-width":i,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`})},ee=function({radius:n,color:i}){return K("circle",{cx:n,cy:n,r:n,fill:i})};y.Lines+"",y.Dots+"";const we={[y.Dots]:"#81818a",[y.Lines]:"#eee"},ge=["id","x","y","width","height","patternTransform"],pe={key:2,height:"100",width:"100"},me=["fill"],$e=["x","y","fill"],_e={name:"Background",compatConfig:{MODE:3}},ye=U({..._e,props:{id:{},variant:{default:()=>y.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(n){const{id:i,viewport:h}=R(),c=ae(()=>{const s=h.value.zoom,[u,m]=Array.isArray(n.gap)?n.gap:[n.gap,n.gap],k=[u*s||1,m*s||1],D=n.size*s,[A,$]=Array.isArray(n.offset)?n.offset:[n.offset,n.offset],w=[A*s||1+k[0]/2,$*s||1+k[1]/2];return{scaledGap:k,offset:w,size:D}}),p=M(()=>`pattern-${i}${n.id?`-${n.id}`:""}`),C=M(()=>n.color||n.patternColor||we[n.variant||y.Dots]);return(s,u)=>(a(),v("svg",{class:"vue-flow__background vue-flow__container",style:le({height:`${s.height>100?100:s.height}%`,width:`${s.width>100?100:s.width}%`})},[d(s.$slots,"pattern-container",{id:p.value},()=>[e("pattern",{id:p.value,x:f(h).x%c.value.scaledGap[0],y:f(h).y%c.value.scaledGap[1],width:c.value.scaledGap[0],height:c.value.scaledGap[1],patternTransform:`translate(-${c.value.offset[0]},-${c.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[d(s.$slots,"pattern",{},()=>[s.variant===f(y).Lines?(a(),_(f(Q),{key:0,size:s.lineWidth,color:C.value,dimensions:c.value.scaledGap},null,8,["size","color","dimensions"])):s.variant===f(y).Dots?(a(),_(f(ee),{key:1,color:C.value,radius:c.value.size/2},null,8,["color","radius"])):b("",!0),s.bgColor?(a(),v("svg",pe,[e("rect",{width:"100%",height:"100%",fill:s.bgColor},null,8,me)])):b("",!0)])],8,ge)]),e("rect",{x:s.x,y:s.y,width:"100%",height:"100%",fill:`url(#${p.value})`},null,8,$e),d(s.$slots,"default",{id:p.value})],4))}}),ke={name:"ControlButton",compatConfig:{MODE:3}},be=(n,i)=>{const h=n.__vccOpts||n;for(const[c,p]of i)h[c]=p;return h},Ce={type:"button",class:"vue-flow__controls-button"};function ze(n,i,h,c,p,C){return a(),v("button",Ce,[d(n.$slots,"default")])}const B=be(ke,[["render",ze]]),Ve={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Ne=e("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),De=[Ne];function Oe(n,i){return a(),v("svg",Ve,De)}const Se={render:Oe},Me={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Ae=e("path",{d:"M0 0h32v4.2H0z"},null,-1),He=[Ae];function Te(n,i){return a(),v("svg",Me,He)}const Be={render:Te},Ee={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Pe=e("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),Ie=[Pe];function Fe(n,i){return a(),v("svg",Ee,Ie)}const Le={render:Fe},xe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Ge=e("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),Je=[Ge];function Ze(n,i){return a(),v("svg",xe,Je)}const Ue={render:Ze},Re={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},je=e("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),We=[je];function qe(n,i){return a(),v("svg",Re,We)}const Xe={render:qe},Ye={name:"Controls",compatConfig:{MODE:3}},Ke=U({...Ye,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>ce.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(n,{emit:i}){const{nodesDraggable:h,nodesConnectable:c,elementsSelectable:p,setInteractive:C,zoomIn:s,zoomOut:u,fitView:m,viewport:k,minZoom:D,maxZoom:A}=R(),$=M(()=>h.value||c.value||p.value),w=M(()=>k.value.zoom<=D.value),H=M(()=>k.value.zoom>=A.value);function P(){s(),i("zoomIn")}function I(){u(),i("zoomOut")}function F(){m(n.fitViewParams),i("fitView")}function L(){C(!$.value),i("interactionChange",!$.value)}return(r,j)=>(a(),_(f(de),{class:"vue-flow__controls",position:r.position},{default:z(()=>[d(r.$slots,"top"),r.showZoom?(a(),v(E,{key:0},[d(r.$slots,"control-zoom-in",{},()=>[N(B,{class:"vue-flow__controls-zoomin",disabled:H.value,onClick:P},{default:z(()=>[d(r.$slots,"icon-zoom-in",{},()=>[(a(),_(O(f(Se))))])]),_:3},8,["disabled"])]),d(r.$slots,"control-zoom-out",{},()=>[N(B,{class:"vue-flow__controls-zoomout",disabled:w.value,onClick:I},{default:z(()=>[d(r.$slots,"icon-zoom-out",{},()=>[(a(),_(O(f(Be))))])]),_:3},8,["disabled"])])],64)):b("",!0),r.showFitView?d(r.$slots,"control-fit-view",{key:1},()=>[N(B,{class:"vue-flow__controls-fitview",onClick:F},{default:z(()=>[d(r.$slots,"icon-fit-view",{},()=>[(a(),_(O(f(Le))))])]),_:3})]):b("",!0),r.showInteractive?d(r.$slots,"control-interactive",{key:2},()=>[r.showInteractive?(a(),_(B,{key:0,class:"vue-flow__controls-interactive",onClick:L},{default:z(()=>[$.value?d(r.$slots,"icon-unlock",{key:0},()=>[(a(),_(O(f(Xe))))]):b("",!0),$.value?b("",!0):d(r.$slots,"icon-lock",{key:1},()=>[(a(),_(O(f(Ue))))])]),_:3})):b("",!0)]):b("",!0),d(r.$slots,"default")]),_:3},8,["position"]))}}),Qe={class:"flow-demo"},et={class:"toolbar"},tt={class:"view-toggle"},ot=["value"],nt={class:"flow-container"},st={class:"flow-wrapper"},lt={class:"default-node-content"},at={class:"list-view"},it={class:"list-section"},rt={class:"table-wrapper"},ut={class:"data-table"},ct=["value","onChange"],dt=["value"],vt=["onClick"],ft=U({__name:"VueFlowAdvancedView",setup(n){const i=[{id:"0",label:"New Node 0",type:"custom",position:{x:350,y:50},data:{title:"Task: Deployment"}},{id:"1",label:"New Node 1",type:"custom",position:{x:150,y:280},data:{title:"Task: Enrichment"}},{id:"2",label:"New Node 2",type:"custom",position:{x:550,y:280},data:{title:"Task: Validation"}}],h=[{id:"vueflow__edge-0-1",type:"default",source:"0",target:"1"},{id:"vueflow__edge-0-2",type:"default",source:"0",target:"2"}];let c=i.length;const p={custom:ie(fe)},C={style:{strokeWidth:3,stroke:"#7c3aed"},pathOptions:{offset:50,curvature:.8,type:"smoothstep"},markerEnd:{type:he.ArrowClosed,width:15,height:15,color:"#7c3aed"}},s=S(JSON.parse(JSON.stringify(i))),u=S(JSON.parse(JSON.stringify(h))),m=S("graph"),{onConnect:k,addEdges:D,fitView:A}=R(),$=S([]);function w(l){const t=new Date().toLocaleTimeString();$.value.unshift(`[${t}] ${l}`),$.value.length>20&&$.value.pop()}function H(l,t){const o=new Set,g=[l];for(;g.length>0;){const T=g.shift();if(T===t)return!0;if(!o.has(T)){o.add(T);for(const q of u.value)q.source===T&&g.push(q.target)}}return!1}function P(l){return u.value.some(t=>t.target===l)}function I(l){const t=[{value:"",label:"None"}];for(const o of s.value)o.id!==l&&(H(l,o.id)||t.push({value:o.id,label:String(o.label??o.id)}));return t}function F(l){return u.value.find(o=>o.target===l)?.source??""}function L(l,t){u.value=u.value.filter(o=>o.target!==l),t&&(u.value=[...u.value,{id:`vueflow__edge-${t}-${l}`,source:t,target:l,type:"default"}])}function r(l){s.value=s.value.filter(t=>t.id!==l),u.value=u.value.filter(t=>t.source!==l&&t.target!==l)}k(l=>{const{source:t,target:o}=l;if(t===o){w("Connection rejected: cannot connect a node to itself");return}if(P(o)){w(`Connection rejected: "${o}" already has a parent`);return}if(H(o,t)){w(`Connection rejected: would create a cycle (${t} → ${o})`);return}D(l),w(`Edge connected: ${t} → ${o}`)});function j({node:l}){w(`Node clicked: "${l.label||l.id}"`)}function te({edge:l}){w(`Edge clicked: ${l.id}`)}function oe(){w("Pane clicked (background)")}const W=["Enrichment","Cleaning","Transformation","Modeling","Validation","Deployment"],x=S(W[0]);function ne(){const l=String(c++),t={id:l,label:`New Node ${l}`,type:"custom",position:{x:Math.random()*400+50,y:Math.random()*300+50},data:{title:`Task: ${x.value}`}};s.value=[...s.value,t],w(`Added new node: "${t.label}"`)}function se(){s.value=JSON.parse(JSON.stringify(i)),u.value=JSON.parse(JSON.stringify(h)),c=i.length,w("Flow reset to initial state")}return(l,t)=>(a(),v("div",Qe,[t[8]||(t[8]=e("div",{class:"demo-header"},[e("h1",null,"Vue Flow Advanced"),e("p",{class:"subtitle"},[G(" Graph view with Background & Controls, plus flat list view. Powered by "),e("code",null,"@vue-flow/core"),G(", "),e("code",null,"@vue-flow/background"),G(", "),e("code",null,"@vue-flow/controls")])],-1)),e("div",et,[e("div",tt,[e("button",{class:X(["btn",{"btn-active":m.value==="graph"}]),onClick:t[0]||(t[0]=o=>m.value="graph")}," Graph View ",2),e("button",{class:X(["btn",{"btn-active":m.value==="list"}]),onClick:t[1]||(t[1]=o=>m.value="list")}," List View ",2)]),t[5]||(t[5]=e("div",{class:"toolbar-divider"},null,-1)),e("button",{class:"btn btn-danger",onClick:se},"Reset Flow"),J(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>x.value=o),class:"form-select"},[(a(),v(E,null,Z(W,o=>e("option",{key:o,value:o},V(o),9,ot)),64))],512),[[re,x.value]]),e("button",{class:"btn btn-accent",onClick:ne},"+ Add Task")]),e("div",nt,[J(e("div",st,[N(f(ve),{nodes:s.value,"onUpdate:nodes":t[3]||(t[3]=o=>s.value=o),edges:u.value,"onUpdate:edges":t[4]||(t[4]=o=>u.value=o),"node-types":p,"default-viewport":{zoom:1,x:0,y:0},"min-zoom":.2,"max-zoom":4,"snap-to-grid":!0,"snap-grid":[15,15],"fit-view-on-init":"",class:"vue-flow-instance",onNodeClick:j,onEdgeClick:te,onPaneClick:oe,defaultEdgeOptions:C},{"node-default":z(({data:o,label:g})=>[e("div",lt,V(g||o?.label),1)]),default:z(()=>[N(f(ye),{variant:"dots",gap:12}),N(f(Ke),{"show-fit-view":!0,"show-zoom":!0,"show-interactive":!0})]),_:1},8,["nodes","edges"])],512),[[Y,m.value==="graph"]]),J(e("div",at,[e("section",it,[t[7]||(t[7]=e("h2",{class:"list-section-title"},"Nodes",-1)),e("div",rt,[e("table",ut,[t[6]||(t[6]=e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"Label"),e("th",null,"Title"),e("th",null,"Parent"),e("th",null,"Actions")])],-1)),e("tbody",null,[(a(!0),v(E,null,Z(s.value,o=>(a(),v("tr",{key:o.id},[e("td",null,[e("code",null,V(o.id),1)]),e("td",null,V(o.label||o.id),1),e("td",null,V(o.data?.title??"—"),1),e("td",null,[e("select",{value:F(o.id),onChange:g=>L(o.id,g.target.value),class:"form-select form-select-sm"},[(a(!0),v(E,null,Z(I(o.id),g=>(a(),v("option",{key:g.value,value:g.value},V(g.label),9,dt))),128))],40,ct)]),e("td",null,[e("button",{class:"btn btn-danger btn-sm",onClick:g=>r(o.id)}," Delete ",8,vt)])]))),128))])])])])],512),[[Y,m.value==="list"]])])]))}}),pt=ue(ft,[["__scopeId","data-v-76b0aefe"]]);export{pt as default};
